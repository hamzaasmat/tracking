<h1 *ngIf="isLoading == true">Loading</h1>
<!-- <p *ngFor="let item of liveData">
  {{item}}
</p> -->

<!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#0099ff" fill-opacity="1" d="M0,0L48,26.7C96,53,192,107,288,160C384,213,480,267,576,240C672,213,768,107,864,58.7C960,11,1056,21,1152,32C1248,43,1344,53,1392,58.7L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg> -->
<!-- <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="red" viewBox="0 0 32 32"><title>secound2</title><path d="M16 29.333c-7.352 0-13.333-5.981-13.333-13.333s5.981-13.333 13.333-13.333c7.352 0 13.333 5.981 13.333 13.333s-5.981 13.333-13.333 13.333zM16 4c-6.616 0-12 5.383-12 12s5.384 12 12 12 12-5.383 12-12-5.384-12-12-12zM15.333 16.667c-0.245 0-0.48-0.136-0.597-0.367-0.165-0.331-0.031-0.731 0.299-0.896l9.333-4.667c0.331-0.164 0.731-0.028 0.896 0.301 0.164 0.329 0.031 0.729-0.3 0.895l-9.333 4.667c-0.095 0.043-0.196 0.067-0.297 0.067z"></path></svg>
<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><title>big-data</title><path d="M28.667 32h-25.333c-2.555 0-3.333-0.779-3.333-3.333v-21.333c0-0.368 0.299-0.667 0.667-0.667h30.667c0.367 0 0.667 0.299 0.667 0.667v21.333c0 2.555-0.779 3.333-3.333 3.333zM1.333 8v20.667c0 1.832 0.168 2 2 2h25.333c1.832 0 2-0.168 2-2v-20.667h-29.333zM6 29.333c-1.103 0-2-0.897-2-2s0.897-2 2-2 2 0.897 2 2-0.897 2-2 2zM6 26.667c-0.368 0-0.667 0.3-0.667 0.667s0.299 0.667 0.667 0.667 0.667-0.3 0.667-0.667-0.299-0.667-0.667-0.667zM6 21.333c-1.103 0-2-0.897-2-2s0.897-2 2-2 2 0.897 2 2-0.897 2-2 2zM6 18.667c-0.368 0-0.667 0.3-0.667 0.667s0.299 0.667 0.667 0.667 0.667-0.3 0.667-0.667-0.299-0.667-0.667-0.667zM30.667 24h-29.333c-0.368 0-0.667-0.3-0.667-0.667s0.299-0.667 0.667-0.667h29.333c0.367 0 0.667 0.3 0.667 0.667s-0.3 0.667-0.667 0.667zM30.667 16h-29.333c-0.368 0-0.667-0.299-0.667-0.667s0.299-0.667 0.667-0.667h29.333c0.367 0 0.667 0.299 0.667 0.667s-0.3 0.667-0.667 0.667zM26.667 28h-6.667c-0.367 0-0.667-0.3-0.667-0.667s0.3-0.667 0.667-0.667h6.667c0.367 0 0.667 0.3 0.667 0.667s-0.3 0.667-0.667 0.667zM26.667 20h-6.667c-0.367 0-0.667-0.3-0.667-0.667s0.3-0.667 0.667-0.667h6.667c0.367 0 0.667 0.3 0.667 0.667s-0.3 0.667-0.667 0.667zM6 13.333c-1.103 0-2-0.897-2-2s0.897-2 2-2 2 0.897 2 2-0.897 2-2 2zM6 10.667c-0.368 0-0.667 0.3-0.667 0.667s0.299 0.667 0.667 0.667 0.667-0.3 0.667-0.667-0.299-0.667-0.667-0.667zM26.667 12h-6.667c-0.367 0-0.667-0.299-0.667-0.667s0.3-0.667 0.667-0.667h6.667c0.367 0 0.667 0.299 0.667 0.667s-0.3 0.667-0.667 0.667zM31.333 8h-30.667c-0.256 0-0.489-0.147-0.601-0.377-0.111-0.231-0.080-0.505 0.080-0.705l5.333-6.667c0.127-0.157 0.319-0.251 0.521-0.251h20c0.203 0 0.393 0.092 0.521 0.251l5.333 6.667c0.16 0.2 0.192 0.475 0.081 0.705-0.113 0.231-0.348 0.377-0.603 0.377zM2.055 6.667h27.892l-4.267-5.333h-19.36l-4.265 5.333z"></path></svg>
<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><title>checked-user</title><path d="M16.168 23.167c-3.953 0-7.175-4.293-7.476-8.091-0.888-0.251-1.691-0.985-1.691-1.909v-2.667c0-0.833 0.807-1.435 1.333-1.739v-2.261c0-2.528 2.021-4.592 4.528-4.664 0.533-0.215 2.647-1.003 4.805-1.003 3.439 0 5.333 2.013 5.333 5.667v2.059c1.333 0.26 1.333 1.331 1.333 1.941v2.667c0 0.928-0.421 1.62-1.101 1.883-0.256 3.94-3.193 8.117-7.065 8.117zM17.668 2.167c-2.163 0-4.383 0.936-4.407 0.947-0.084 0.035-0.172 0.053-0.26 0.053-1.839 0-3.333 1.495-3.333 3.333v2.667c0 0.261-0.155 0.5-0.393 0.608-0.473 0.215-0.913 0.583-0.94 0.731v2.661c0 0.293 0.561 0.667 1 0.667 0.367 0 0.667 0.299 0.667 0.667 0 3.301 2.845 7.333 6.167 7.333 3.24 0 5.751-3.943 5.751-7.333 0-0.368 0.301-0.667 0.667-0.667 0.276 0 0.417-0.224 0.417-0.667v-2.667c0-0.667 0-0.667-0.667-0.667-0.368 0-0.667-0.299-0.667-0.667v-2.667c-0.001-2.916-1.308-4.333-4.001-4.333zM24.335 31.167c-0.171 0-0.341-0.065-0.472-0.195l-2.667-2.667c-0.26-0.257-0.26-0.683 0-0.943 0.257-0.257 0.683-0.257 0.943 0l2.195 2.195 4.861-4.861c0.26-0.257 0.685-0.257 0.943 0 0.26 0.26 0.26 0.685 0 0.943l-5.333 5.333c-0.128 0.129-0.299 0.195-0.469 0.195zM2.335 31.167c-0.367 0-0.667-0.299-0.667-0.667 0-3.861 3.084-6.667 7.333-6.667h1.643l1.776-2.648c0.201-0.305 0.617-0.388 0.921-0.183 0.305 0.204 0.388 0.619 0.185 0.924l-1.972 2.944c-0.124 0.185-0.331 0.296-0.553 0.296h-2c-3.531 0-6 2.193-6 5.333 0 0.368-0.3 0.667-0.667 0.667z"></path></svg>
<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><title>jet</title><path d="M21.333 31.664c-0.071 0-0.14-0.011-0.211-0.033l-3.897-1.3h-2.451l-3.897 1.3c-0.265 0.085-0.553 0.003-0.727-0.211-0.175-0.213-0.2-0.516-0.061-0.752l2.372-4.109-1.299-6.060-8.985 2.475c-0.2 0.055-0.416 0.013-0.581-0.112-0.167-0.124-0.263-0.323-0.263-0.528v-4c0-0.208 0.099-0.409 0.267-0.531l10.448-7.835c0.504-3.204 1.52-6 3.369-9.293 0.117-0.207 0.34-0.339 0.58-0.339h0.003c0.24 0 0.461 0.129 0.58 0.336 1.855 3.265 2.751 5.727 3.367 9.289l10.453 7.841c0.168 0.125 0.267 0.323 0.267 0.531v4c0 0.205-0.097 0.407-0.263 0.528-0.167 0.128-0.383 0.164-0.581 0.112l-8.985-2.476-1.299 6.060 2.373 4.109c0.139 0.243 0.112 0.539-0.063 0.752-0.128 0.16-0.321 0.245-0.516 0.245zM14.667 28.997h2.667c0.073 0 0.143 0.013 0.211 0.033l2.333 0.779-1.623-2.812c-0.084-0.143-0.109-0.309-0.076-0.472l1.5-7c0.039-0.18 0.149-0.336 0.305-0.432 0.159-0.093 0.347-0.123 0.524-0.073l8.823 2.435v-2.795l-10.4-7.8c-0.139-0.103-0.231-0.253-0.257-0.423-0.523-3.135-1.251-5.361-2.672-8.052-1.467 2.804-2.259 5.2-2.677 8.039-0.025 0.173-0.119 0.331-0.26 0.436l-10.4 7.8v2.795l8.823-2.435c0.176-0.047 0.365-0.024 0.523 0.073 0.157 0.093 0.268 0.251 0.305 0.432l1.5 7c0.035 0.161 0.008 0.328-0.075 0.472l-1.623 2.812 2.333-0.779c0.073-0.020 0.144-0.033 0.216-0.033z"></path></svg>
<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><title>thumb</title><path d="M27.625 15.727h-0.161c-0.367 0-0.667-0.3-0.667-0.667s0.3-0.667 0.667-0.667h0.161c0.417 0 0.912-0.721 0.912-1.333 0-0.609-0.508-1.333-0.935-1.333h-6.805c-0.367 0-0.667-0.3-0.667-0.667s0.3-0.667 0.667-0.667h6.805c1.277 0 2.268 1.433 2.268 2.667-0.001 1.257-0.961 2.667-2.245 2.667zM27.601 19.727h-2.805c-0.367 0-0.667-0.3-0.667-0.667s0.3-0.667 0.667-0.667h2.805c0.427 0 0.935-0.724 0.935-1.335 0-0.608-0.493-1.332-0.912-1.332h-2.828c-0.367 0-0.667-0.3-0.667-0.667s0.3-0.667 0.667-0.667h2.828c1.284 0 2.245 1.409 2.245 2.665 0 1.235-0.991 2.668-2.268 2.668zM26.496 23.727h-3.032c-0.367 0-0.667-0.3-0.667-0.667s0.3-0.667 0.667-0.667h3.032c0.445 0 0.935-0.651 0.935-1.245 0-0.628-0.512-1.421-0.913-1.421h-3.055c-0.367 0-0.667-0.3-0.667-0.667s0.3-0.667 0.667-0.667h3.056c1.264 0 2.247 1.479 2.247 2.755 0 1.216-0.971 2.579-2.269 2.579zM25.163 27.727h-9.699c-2.941 0-5.333-2.392-5.333-5.333v-8.188c0-0.847 0.484-1.661 1.261-2.132 1.715-1.028 5.867-3.701 7.384-6.383 0.621-1.095 1.919-1.663 3.024-1.316 1.213 0.373 1.999 1.623 1.751 2.779-0.252 1.172-1.992 3.948-2.191 4.259-0.195 0.311-0.608 0.408-0.919 0.207-0.311-0.195-0.404-0.609-0.208-0.917 0.697-1.105 1.861-3.123 2.013-3.832 0.105-0.488-0.28-1.049-0.843-1.224-0.497-0.156-1.16 0.16-1.468 0.7-1.613 2.852-5.616 5.528-7.86 6.868-0.372 0.224-0.613 0.611-0.613 0.985v8.193c0 2.205 1.796 4 4 4h9.699c0.445 0 0.935-0.651 0.935-1.245 0-0.628-0.512-1.421-0.913-1.421h-3.055c-0.367 0-0.667-0.3-0.667-0.667s0.3-0.667 0.667-0.667h3.056c1.264 0 2.247 1.479 2.247 2.755 0.001 1.217-0.969 2.58-2.268 2.58zM10.797 27.727h-8c-0.367 0-0.667-0.3-0.667-0.667v-16c0-0.367 0.3-0.667 0.667-0.667h8c0.368 0 0.667 0.3 0.667 0.667v16c0 0.367-0.299 0.667-0.667 0.667zM3.464 26.393h6.667v-14.667h-6.667v14.667z"></path></svg>
<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><title>key-lock</title><path d="M4.333 27.333c-2.205 0-4-1.795-4-4s1.795-4 4-4 4 1.795 4 4-1.795 4-4 4zM4.333 20.667c-1.471 0-2.667 1.195-2.667 2.667s1.196 2.667 2.667 2.667 2.667-1.195 2.667-2.667-1.196-2.667-2.667-2.667zM21 24h-13.333c-0.368 0-0.667-0.3-0.667-0.667s0.299-0.667 0.667-0.667h13.333c0.367 0 0.667 0.3 0.667 0.667s-0.3 0.667-0.667 0.667zM19 27.333c-0.367 0-0.667-0.3-0.667-0.667v-2.667c0-0.367 0.3-0.667 0.667-0.667s0.667 0.3 0.667 0.667v2.667c0 0.367-0.3 0.667-0.667 0.667zM25 32h-10.667c-2.009 0-3.901-0.921-5.191-2.533-0.229-0.288-0.183-0.704 0.104-0.935 0.288-0.232 0.708-0.185 0.937 0.101 1.033 1.295 2.547 2.033 4.149 2.033h10.667c2.941 0 5.333-2.392 5.333-5.333v-9.333h-21.333v1.333c0 0.367-0.299 0.667-0.667 0.667s-0.667-0.3-0.667-0.667v-2c0-0.367 0.299-0.667 0.667-0.667h22.667c0.367 0 0.667 0.3 0.667 0.667v10c0 3.676-2.991 6.667-6.667 6.667zM29.667 15.333c-0.367 0-0.667-0.3-0.667-0.667v-5.333c0-4.636-3.643-8-8.667-8h-1.333c-5.023 0-8.667 3.364-8.667 8v5.333c0 0.367-0.299 0.667-0.667 0.667s-0.667-0.3-0.667-0.667v-5.333c0-5.32 4.299-9.333 10-9.333h1.333c5.7 0 10 4.013 10 9.333v5.333c0 0.367-0.3 0.667-0.667 0.667zM19.667 30c-2.205 0-4-1.795-4-4 0-0.367 0.299-0.667 0.667-0.667 0.367 0 0.667 0.3 0.667 0.667 0 1.472 1.195 2.667 2.667 2.667s2.667-1.195 2.667-2.667v-1.128c0-0.135 0.039-0.259 0.111-0.368 0.363-0.548 0.556-1.184 0.556-1.837 0-1.839-1.496-3.333-3.333-3.333-1.176 0-2.277 0.635-2.876 1.647-0.188 0.316-0.595 0.42-0.913 0.236-0.317-0.187-0.423-0.593-0.236-0.913 0.836-1.42 2.38-2.305 4.025-2.305 2.573 0 4.667 2.093 4.667 4.667 0 0.849-0.229 1.672-0.667 2.401v0.932c0 2.208-1.795 4.003-4 4.003z"></path></svg> -->

<!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#0099ff" fill-opacity="1" d="M0,288L60,250.7C120,213,240,139,360,128C480,117,600,171,720,176C840,181,960,139,1080,101.3C1200,64,1320,32,1380,16L1440,0L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"></path></svg> -->
<!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#0099ff" fill-opacity="1" d="M0,0L60,37.3C120,75,240,149,360,176C480,203,600,181,720,149.3C840,117,960,75,1080,96C1200,117,1320,203,1380,245.3L1440,288L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"></path></svg> -->
<div class="title-layer">
  {{deviceName ? deviceName:'No device selected yet'}}
</div>

<div class="map-controls">
  <ul>
    <li>
      <button (click)="zoomIn()">
        <mat-icon>add</mat-icon>
      </button>
    </li>
    <li>
      <button (click)="zoomOut()">
        <mat-icon>remove</mat-icon>
      </button>
    </li>
    <li>
      <button (click)="zoomOut()">
        <mat-icon>timeline</mat-icon>
      </button>
    </li>
    <li>
      <div class="item">
        <div class="num">
          {{deviceSpeed ? (deviceSpeed | speedConverterNum) : '0'}}
        </div>
        <div class="unit">
          KM/H
        </div>
      </div>
    </li>
  </ul>


</div>
<agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" [disableDefaultUI]="false" [zoomControl]="false"
  [styles]="mode">

  <agm-overlay *ngIf="deviceId" [latitude]="lat" [longitude]="lng">

    <div [ngStyle]="iconurl" class="">
      <img [src]="mapPointerUrl" width="25" alt="">
    </div>

  </agm-overlay>
  <agm-overlay *ngIf="!deviceId">
    <agm-overlay *ngFor="let item of markers" [latitude]="item.lat" [longitude]="item.lng">

      <div [ngStyle]="deviceRotaion" class="">
        <!-- <img [src]="item.icon" width="25" alt=""> -->
        <img src="https://img.icons8.com/color/48/000000/region-code.png" width="30">
      </div>

    </agm-overlay>
  </agm-overlay>


  <!-- <agm-polyline *ngFor="let point of mapPolyline;let i = index;" [strokeColor]="'#000000'">
    <agm-polyline-point [latitude]="point.lat" [longitude]="point.lng">
    </agm-polyline-point>
    <ng-container *ngIf="polyline[i+1]">
      <agm-polyline-point [latitude]="polyline[i+1].lat" [longitude]="polyline[i+1].lng">
      </agm-polyline-point>
    </ng-container>
  </agm-polyline> -->

</agm-map>

<!-- <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" [disableDefaultUI]="false" [zoomControl]="false"
  [styles]="mapMode">

  <agm-marker [latitude]="lat" [longitude]="lng">

    <agm-info-window>
      <strong>InfoWindow content</strong>
    </agm-info-window>

  </agm-marker>

</agm-map> -->